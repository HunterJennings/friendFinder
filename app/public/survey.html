
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>FriendFinder</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

</head>

<body>

  <div class="container">
    <h2>Survey</h2>
    <hr>
    <h3>About you</h3>
    <h4>Name (required)</h4>
    <input type="text" name="" id="name" class="form-control" required>
    <h4>Link to Photo Image (required)</h4>
    <input type="text" name="" id="photo" class="form-control" required>
    <hr>

    <h3>Question 1</h3>
    <h4>You would rather stay in than go out on the town.</h4>
    <select data-placeholder="" class="chosen-select" id="q1">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>

    <h3>Question 2</h3>
    <h4>you could eat 2 pizza's in one sitting.</h4>
    <select data-placeholder="" class="chosen-select" id="q2">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>

    <h3>Question 3</h3>
    <h4>Would you choose surfing over snowboarding?</h4>
    <select data-placeholder="" class="chosen-select" id="q3">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>

    <h3>Question 4</h3>
    <h4>You would rather read a book than watch a movie.</h4>
    <select data-placeholder="" class="chosen-select" id="q4">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>

    <h3>Question 5</h3>
    <h4>You hate school and would rather learn on the job.</h4>
    <select data-placeholder="" class="chosen-select" id="q5">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>

    <h3>Question 6</h3>
    <h4>You always have to be doing something or you get bored.</h4>
    <select data-placeholder="" class="chosen-select" id="q6">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>

    <h3>Question 7</h3>
    <h4>Jeeps are way cooler than any other vehicle.</h4>
    <select data-placeholder="" class="chosen-select" id="q1">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>

    <h3>Question 8</h3>
    <h4>You prefer Tea over soda.</h4>
    <select data-placeholder="" class="chosen-select" id="q8">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>

    <h3>Question 9</h3>
    <h4>You would rather travel than live in one area for too long.</h4>
    <select data-placeholder="" class="chosen-select" id="q9">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>

    <h3>Question 10</h3>
    <h4>You like cats over dogs.</h4>
    <select data-placeholder="" class="chosen-select" id="q10">
        <option value=""></option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5(strongly agree)</option>
    </select>
    <br>
    <br>
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">Submit</button>

    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/afhaque/friendfinder">GitHub Repo</a></p>
      </div>
    </footer>

  </div>

  <div id="resultsModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h2 class="modal-title">Found your match!</h2>
              </div>
              <div class="modal-body">
                  <h2 id="matchName"></h2>
                  <img id="matchImg" src="" alt="">
              </div>
              <div class="modal-footer">
                  <button type="button" class= "btn btn-default" data-dismiss="modal">close</button>
              </div>
          </div>
      </div>
  </div>

  <script type="text/javascript">
  $("#submit").on("click", function(){
      function validateForm(){
          var isValid = true;
          $(".form-control").each(function(){
              if ($(this).val() === ""){
                  isValid = false;
              }
          });
          $("chosen-select").each(function(){
              if ($(this).val()===""){
                  isVlaid=false;
              }
          });
          return isValid;
      }
      if (validateForm()){
          var userData = {
              name: $("#name").val(),
              photo: $("#photo").val(),
              scores: [
                  $("#q1").val(),
                  $("#q2").val(),
                  $("#q3").val(),
                  $("#q4").val(),
                  $("#q5").val(),
                  $("#q6").val(),
                  $("#q7").val(),
                  $("#q8").val(),
                  $("#q9").val(),
                  $("#q10").val()
              ]
          };
          var currentURL = window.location.origin;
          $.post(currentURL + "/api/friends", userData, function(data){
              $("#matchName").text(data.name);
              $("#matchImg").attr("src", data.photo);
              $("#resultsModal").modal("toggle");
              
          });
      }
      else{
          alert("Please fill out all the fields!")
      }
      return false;
  });
  
  
  </script>

</body>
</html>